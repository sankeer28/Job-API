# Auto-generated: HTML templates as Python strings

INDEX_HTML = '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <title>Job API</title>\n  <style>\n    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n\n    :root {\n      --blue:        #007AFF;\n      --blue-dark:   #0062CC;\n      --bg:          #F5F5F7;\n      --surface:     #FFFFFF;\n      --border:      #D2D2D7;\n      --text:        #1D1D1F;\n      --subtext:     #6E6E73;\n      --tag-bg:      #F0F4FF;\n      --tag-text:    #0051D6;\n      --green:       #34C759;\n      --radius:      14px;\n      --radius-sm:   8px;\n      --shadow:      0 2px 16px rgba(0,0,0,.08);\n      --shadow-card: 0 1px 6px rgba(0,0,0,.06), 0 4px 24px rgba(0,0,0,.06);\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;\n      background: var(--bg);\n      color: var(--text);\n      min-height: 100vh;\n      padding-bottom: 80px;\n    }\n\n    /* ‚îÄ‚îÄ Nav ‚îÄ‚îÄ */\n    nav {\n      background: rgba(255,255,255,.82);\n      backdrop-filter: saturate(180%) blur(20px);\n      -webkit-backdrop-filter: saturate(180%) blur(20px);\n      border-bottom: 1px solid rgba(0,0,0,.06);\n      position: sticky;\n      top: 0;\n      z-index: 100;\n      padding: 0 24px;\n      height: 52px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    .nav-logo {\n      font-size: 17px;\n      font-weight: 600;\n      letter-spacing: -.3px;\n      color: var(--text);\n      text-decoration: none;\n    }\n    .nav-logo span { color: var(--blue); }\n    .nav-links {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n    .nav-link {\n      font-size: 14px;\n      font-weight: 500;\n      color: var(--subtext);\n      text-decoration: none;\n      padding: 6px 12px;\n      border-radius: 8px;\n      transition: background .15s, color .15s;\n    }\n    .nav-link:hover { background: var(--bg); color: var(--text); }\n    .nav-link.active { color: var(--blue); background: var(--tag-bg); }\n\n    /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */\n    .hero {\n      text-align: center;\n      padding: 64px 24px 40px;\n    }\n    .hero h1 {\n      font-size: clamp(32px, 5vw, 52px);\n      font-weight: 700;\n      letter-spacing: -.5px;\n      line-height: 1.1;\n      margin-bottom: 14px;\n    }\n    .hero h1 em { color: var(--blue); font-style: normal; }\n    .hero p {\n      font-size: 17px;\n      color: var(--subtext);\n      max-width: 480px;\n      margin: 0 auto;\n      line-height: 1.55;\n    }\n\n    /* ‚îÄ‚îÄ Main layout ‚îÄ‚îÄ */\n    .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }\n\n    /* ‚îÄ‚îÄ Form card ‚îÄ‚îÄ */\n    .form-card {\n      background: var(--surface);\n      border-radius: var(--radius);\n      box-shadow: var(--shadow-card);\n      padding: 32px;\n      margin-bottom: 32px;\n    }\n    .form-card h2 {\n      font-size: 15px;\n      font-weight: 600;\n      color: var(--subtext);\n      text-transform: uppercase;\n      letter-spacing: .6px;\n      margin-bottom: 24px;\n    }\n\n    .form-grid {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 16px;\n    }\n    .form-grid .full { grid-column: 1 / -1; }\n\n    .field { display: flex; flex-direction: column; gap: 6px; }\n    .field label {\n      font-size: 13px;\n      font-weight: 500;\n      color: var(--subtext);\n    }\n    .field input, .field select {\n      height: 42px;\n      padding: 0 14px;\n      border: 1.5px solid var(--border);\n      border-radius: var(--radius-sm);\n      font-size: 15px;\n      font-family: inherit;\n      color: var(--text);\n      background: var(--surface);\n      transition: border-color .15s, box-shadow .15s;\n      outline: none;\n      appearance: none;\n      -webkit-appearance: none;\n    }\n    .field select { background-image: url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'12\' height=\'8\' viewBox=\'0 0 12 8\'%3E%3Cpath d=\'M1 1l5 5 5-5\' stroke=\'%236E6E73\' stroke-width=\'1.5\' fill=\'none\' stroke-linecap=\'round\'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 14px center; padding-right: 36px; }\n    .field input:focus, .field select:focus {\n      border-color: var(--blue);\n      box-shadow: 0 0 0 3px rgba(0,122,255,.12);\n    }\n    .field input::placeholder { color: #AEAEB2; }\n\n    /* Sites checkboxes */\n    .sites-grid {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 8px;\n    }\n    .site-chip {\n      display: inline-flex;\n      align-items: center;\n      gap: 6px;\n      padding: 7px 14px;\n      border-radius: 20px;\n      border: 1.5px solid var(--border);\n      font-size: 13px;\n      font-weight: 500;\n      color: var(--subtext);\n      cursor: pointer;\n      user-select: none;\n      transition: all .15s;\n      background: var(--surface);\n    }\n    .site-chip:hover { border-color: var(--blue); color: var(--blue); }\n    .site-chip input[type="checkbox"] { display: none; }\n    .site-chip.active {\n      background: var(--tag-bg);\n      border-color: var(--blue);\n      color: var(--blue);\n    }\n    .site-chip .dot {\n      width: 6px; height: 6px;\n      border-radius: 50%;\n      background: var(--blue);\n      opacity: 0;\n      transition: opacity .15s;\n    }\n    .site-chip.active .dot { opacity: 1; }\n\n    /* Submit */\n    .submit-row {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      margin-top: 24px;\n    }\n    .btn-search {\n      height: 46px;\n      padding: 0 32px;\n      background: var(--blue);\n      color: #fff;\n      border: none;\n      border-radius: 23px;\n      font-size: 15px;\n      font-weight: 600;\n      font-family: inherit;\n      cursor: pointer;\n      transition: background .15s, transform .1s;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n    .btn-search:hover { background: var(--blue-dark); }\n    .btn-search:active { transform: scale(.98); }\n    .btn-search:disabled { background: #B0C4E8; cursor: not-allowed; transform: none; }\n    .hint { font-size: 13px; color: var(--subtext); }\n\n    /* ‚îÄ‚îÄ Spinner ‚îÄ‚îÄ */\n    .spinner {\n      display: none;\n      width: 18px; height: 18px;\n      border: 2.5px solid rgba(255,255,255,.4);\n      border-top-color: #fff;\n      border-radius: 50%;\n      animation: spin .7s linear infinite;\n    }\n    .loading .spinner { display: block; }\n    .loading .btn-icon { display: none; }\n    @keyframes spin { to { transform: rotate(360deg); } }\n\n    /* ‚îÄ‚îÄ Results ‚îÄ‚îÄ */\n    #results-section { display: none; }\n    .results-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 20px;\n    }\n    .results-header h2 {\n      font-size: 22px;\n      font-weight: 700;\n      letter-spacing: -.3px;\n    }\n    .count-badge {\n      background: var(--blue);\n      color: #fff;\n      font-size: 13px;\n      font-weight: 600;\n      padding: 4px 12px;\n      border-radius: 20px;\n    }\n\n    .jobs-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));\n      gap: 16px;\n    }\n\n    .job-card {\n      background: var(--surface);\n      border-radius: var(--radius);\n      box-shadow: var(--shadow-card);\n      padding: 22px 24px;\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n      transition: transform .15s, box-shadow .15s;\n      text-decoration: none;\n      color: inherit;\n    }\n    .job-card:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 4px 30px rgba(0,0,0,.1);\n    }\n\n    .job-top { display: flex; justify-content: space-between; align-items: flex-start; gap: 12px; }\n    .job-title {\n      font-size: 16px;\n      font-weight: 600;\n      letter-spacing: -.2px;\n      line-height: 1.3;\n    }\n    .site-pill {\n      flex-shrink: 0;\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .4px;\n      background: var(--tag-bg);\n      color: var(--tag-text);\n      padding: 4px 9px;\n      border-radius: 20px;\n    }\n    .job-company {\n      font-size: 14px;\n      color: var(--subtext);\n      font-weight: 500;\n    }\n\n    .job-meta {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 6px;\n    }\n    .meta-tag {\n      display: inline-flex;\n      align-items: center;\n      gap: 4px;\n      font-size: 12px;\n      font-weight: 500;\n      color: var(--subtext);\n      background: var(--bg);\n      padding: 4px 10px;\n      border-radius: 20px;\n    }\n    .meta-tag svg { flex-shrink: 0; }\n    .meta-tag.remote { color: var(--green); background: rgba(52,199,89,.1); }\n    .meta-tag.salary { color: #a047d0; background: rgba(160,71,208,.08); }\n\n    .job-footer {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 8px;\n      padding-top: 10px;\n      border-top: 1px solid var(--border);\n    }\n    .job-date { font-size: 12px; color: var(--subtext); }\n    .job-actions { display: flex; align-items: center; gap: 8px; }\n    .job-link {\n      font-size: 13px;\n      font-weight: 600;\n      color: var(--blue);\n      text-decoration: none;\n      display: flex;\n      align-items: center;\n      gap: 3px;\n    }\n    .job-link:hover { opacity: .7; }\n\n    /* ‚îÄ‚îÄ Details button ‚îÄ‚îÄ */\n    .btn-details {\n      height: 32px;\n      padding: 0 14px;\n      background: var(--bg);\n      border: 1.5px solid var(--border);\n      border-radius: 16px;\n      font-size: 12px;\n      font-weight: 600;\n      color: var(--subtext);\n      cursor: pointer;\n      font-family: inherit;\n      transition: all .15s;\n    }\n    .btn-details:hover { border-color: var(--blue); color: var(--blue); background: var(--tag-bg); }\n\n    /* ‚îÄ‚îÄ Modal overlay ‚îÄ‚îÄ */\n    .modal-overlay {\n      display: none;\n      position: fixed;\n      inset: 0;\n      background: rgba(0,0,0,.5);\n      backdrop-filter: blur(6px);\n      -webkit-backdrop-filter: blur(6px);\n      z-index: 200;\n      align-items: center;\n      justify-content: center;\n      padding: 24px;\n    }\n    .modal-overlay.open { display: flex; }\n    .modal {\n      background: var(--surface);\n      border-radius: 20px;\n      width: 100%;\n      max-width: 700px;\n      max-height: 88vh;\n      display: flex;\n      flex-direction: column;\n      box-shadow: 0 24px 80px rgba(0,0,0,.22);\n      animation: modalIn .22s cubic-bezier(.32,1,.4,1);\n    }\n    @keyframes modalIn { from { transform: scale(.96) translateY(12px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }\n    .modal-handle {\n      display: none;\n    }\n    .modal-header {\n      display: flex;\n      align-items: flex-start;\n      justify-content: space-between;\n      gap: 16px;\n      padding: 20px 24px 16px;\n      border-bottom: 1px solid var(--border);\n      flex-shrink: 0;\n    }\n    .modal-title-block { flex: 1; min-width: 0; }\n    .modal-title { font-size: 20px; font-weight: 700; letter-spacing: -.3px; line-height: 1.25; }\n    .modal-company { font-size: 14px; color: var(--subtext); margin-top: 4px; }\n    .modal-close {\n      width: 32px; height: 32px; flex-shrink: 0;\n      background: var(--bg);\n      border: none; border-radius: 50%;\n      cursor: pointer;\n      display: flex; align-items: center; justify-content: center;\n      font-size: 18px; color: var(--subtext);\n      transition: background .15s;\n    }\n    .modal-close:hover { background: var(--border); }\n    .modal-body {\n      overflow-y: auto;\n      padding: 20px 24px 32px;\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n    .detail-section h4 {\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .6px;\n      color: var(--subtext);\n      margin-bottom: 10px;\n    }\n    .detail-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n      gap: 10px;\n    }\n    .detail-item {\n      background: var(--bg);\n      border-radius: var(--radius-sm);\n      padding: 10px 12px;\n    }\n    .detail-item .di-label { font-size: 11px; color: var(--subtext); font-weight: 500; margin-bottom: 3px; }\n    .detail-item .di-value { font-size: 14px; font-weight: 600; word-break: break-word; }\n    .detail-description {\n      background: var(--bg);\n      border-radius: var(--radius-sm);\n      padding: 14px 16px;\n      font-size: 14px;\n      line-height: 1.65;\n      color: var(--text);\n      max-height: 320px;\n      overflow-y: auto;\n      white-space: pre-wrap;\n      word-break: break-word;\n    }\n    .detail-description p { margin-bottom: 8px; }\n    .detail-description ul, .detail-description ol { margin: 6px 0 6px 18px; }\n    .md-body h1, .md-body h2, .md-body h3, .md-body h4 { font-weight: 700; margin: 14px 0 6px; line-height: 1.3; }\n    .md-body h1 { font-size: 16px; }\n    .md-body h2 { font-size: 15px; }\n    .md-body h3, .md-body h4 { font-size: 14px; }\n    .md-body strong { font-weight: 700; color: var(--text); }\n    .md-body em { font-style: italic; }\n    .md-body ul { list-style: disc; }\n    .md-body ol { list-style: decimal; }\n    .md-body li { margin-bottom: 3px; }\n    .md-body a { color: var(--blue); text-decoration: none; }\n    .md-body a:hover { text-decoration: underline; }\n    .md-body code { font-family: "SF Mono", monospace; font-size: 12px; background: var(--border); padding: 1px 5px; border-radius: 4px; }\n    .md-body hr { border: none; border-top: 1px solid var(--border); margin: 12px 0; }\n    .md-body blockquote { border-left: 3px solid var(--border); padding-left: 12px; color: var(--subtext); margin: 8px 0; }\n    .detail-link {\n      display: inline-flex;\n      align-items: center;\n      gap: 6px;\n      padding: 10px 20px;\n      background: var(--blue);\n      color: #fff;\n      border-radius: 20px;\n      font-size: 14px;\n      font-weight: 600;\n      text-decoration: none;\n      transition: background .15s;\n    }\n    .detail-link:hover { background: var(--blue-dark); }\n    .tag-list { display: flex; flex-wrap: wrap; gap: 6px; }\n    .tag-list span {\n      background: var(--tag-bg);\n      color: var(--tag-text);\n      font-size: 12px;\n      font-weight: 500;\n      padding: 4px 10px;\n      border-radius: 20px;\n    }\n\n    /* ‚îÄ‚îÄ Error / Empty ‚îÄ‚îÄ */\n    .message-box {\n      background: var(--surface);\n      border-radius: var(--radius);\n      box-shadow: var(--shadow-card);\n      padding: 48px 32px;\n      text-align: center;\n      display: none;\n    }\n    .message-box .icon { font-size: 40px; margin-bottom: 12px; }\n    .message-box h3 { font-size: 18px; font-weight: 600; margin-bottom: 8px; }\n    .message-box p { font-size: 14px; color: var(--subtext); line-height: 1.5; }\n    .message-box.error h3 { color: #FF3B30; }\n\n    /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */\n    @media (max-width: 640px) {\n      .form-grid { grid-template-columns: 1fr; }\n      .hero { padding: 40px 20px 28px; }\n      .form-card { padding: 22px 18px; }\n      .jobs-grid { grid-template-columns: 1fr; }\n    }\n    </style>\n  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>\n</head>\n<body>\n\n<nav>\n  <a class="nav-logo" href="/">Job <span>API</span></a>\n  <div class="nav-links">\n    <a href="/" class="nav-link active">Search</a>\n    <a href="/docs.html" class="nav-link">Docs</a>\n    <a href="/playground.html" class="nav-link">Playground</a>\n  </div>\n</nav>\n\n<div class="hero">\n  <h1>Find jobs across<br><em>every board</em> at once.</h1>\n  <p>Aggregate job postings from LinkedIn, Indeed, Glassdoor, ZipRecruiter, Google Jobs and more ‚Äî in one search.</p>\n</div>\n\n<div class="container">\n\n  <!-- Search form -->\n  <div class="form-card">\n    <h2>Search Parameters</h2>\n\n    <div class="field full" style="margin-bottom:8px">\n      <label>Job Boards</label>\n      <div class="sites-grid" id="sitesGrid">\n        <label class="site-chip active"><input type="checkbox" value="indeed" checked><span class="dot"></span>Indeed</label>\n        <label class="site-chip active"><input type="checkbox" value="linkedin" checked><span class="dot"></span>LinkedIn</label>\n        <label class="site-chip active"><input type="checkbox" value="glassdoor" checked><span class="dot"></span>Glassdoor</label>\n        <label class="site-chip active"><input type="checkbox" value="zip_recruiter" checked><span class="dot"></span>ZipRecruiter</label>\n        <label class="site-chip active"><input type="checkbox" value="google" checked><span class="dot"></span>Google Jobs</label>\n        <label class="site-chip"><input type="checkbox" value="bayt"><span class="dot"></span>Bayt</label>\n        <label class="site-chip"><input type="checkbox" value="naukri"><span class="dot"></span>Naukri</label>\n        <label class="site-chip"><input type="checkbox" value="bdjobs"><span class="dot"></span>BDJobs</label>\n      </div>\n    </div>\n\n    <div class="form-grid" style="margin-top:16px">\n      <div class="field full">\n        <label>Search Term</label>\n        <input id="search_term" type="text" placeholder="e.g. software engineer" />\n      </div>\n\n      <div class="field">\n        <label>Location</label>\n        <input id="location" type="text" placeholder="e.g. New York, NY" />\n      </div>\n\n      <div class="field">\n        <label>Country (Indeed / Glassdoor)</label>\n        <select id="country_indeed">\n          <option value="">Any</option>\n          <option value="USA" selected>USA</option>\n          <option value="UK">UK</option>\n          <option value="Canada">Canada</option>\n          <option value="Australia">Australia</option>\n          <option value="Germany">Germany</option>\n          <option value="France">France</option>\n          <option value="India">India</option>\n          <option value="Singapore">Singapore</option>\n          <option value="UAE">UAE</option>\n        </select>\n      </div>\n\n      <div class="field">\n        <label>Job Type</label>\n        <select id="job_type">\n          <option value="">Any</option>\n          <option value="fulltime">Full-time</option>\n          <option value="parttime">Part-time</option>\n          <option value="contract">Contract</option>\n          <option value="internship">Internship</option>\n        </select>\n      </div>\n\n      <div class="field">\n        <label>Remote</label>\n        <select id="is_remote">\n          <option value="">Any</option>\n          <option value="true">Remote only</option>\n          <option value="false">On-site only</option>\n        </select>\n      </div>\n\n      <div class="field">\n        <label>Results per Site</label>\n        <input id="results_wanted" type="number" placeholder="15" min="1" max="100" value="15"/>\n      </div>\n\n      <div class="field">\n        <label>Posted Within (hours)</label>\n        <input id="hours_old" type="number" placeholder="e.g. 72" min="1" />\n      </div>\n    </div>\n\n    <div class="submit-row">\n      <button class="btn-search" id="searchBtn" onclick="search()">\n        <span class="btn-icon">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="6.5" cy="6.5" r="5" stroke="white" stroke-width="1.8"/><path d="M10.5 10.5L14 14" stroke="white" stroke-width="1.8" stroke-linecap="round"/></svg>\n        </span>\n        <div class="spinner"></div>\n        Search Jobs\n      </button>\n      <span class="hint" id="hintText">Select at least one site and enter a search term.</span>\n    </div>\n  </div>\n\n  <!-- Results -->\n  <div id="results-section">\n    <div class="results-header">\n      <h2 id="resultsTitle">Results</h2>\n      <span class="count-badge" id="countBadge">0</span>\n    </div>\n    <div class="jobs-grid" id="jobsGrid"></div>\n  </div>\n\n  <div class="message-box error" id="errorBox">\n    <div class="icon">‚ö†Ô∏è</div>\n    <h3>Something went wrong</h3>\n    <p id="errorText"></p>\n  </div>\n\n  <div class="message-box" id="emptyBox">\n    <div class="icon">üîç</div>\n    <h3>No jobs found</h3>\n    <p>Try broadening your search ‚Äî fewer filters, a different location, or more sites.</p>\n  </div>\n\n</div>\n\n<!-- Detail Modal -->\n<div class="modal-overlay" id="modalOverlay" onclick="handleOverlayClick(event)">\n  <div class="modal" id="modal">\n    <div class="modal-handle"></div>\n    <div class="modal-header">\n      <div class="modal-title-block">\n        <div class="modal-title" id="mTitle"></div>\n        <div class="modal-company" id="mCompany"></div>\n      </div>\n      <button class="modal-close" onclick="closeModal()">‚úï</button>\n    </div>\n    <div class="modal-body" id="mBody"></div>\n  </div>\n</div>\n\n<script>\n  let allJobs = [];\n\n  // Toggle site chips\n  document.querySelectorAll(\'.site-chip\').forEach(chip => {\n    chip.addEventListener(\'click\', () => {\n      const cb = chip.querySelector(\'input\');\n      cb.checked = !cb.checked;\n      chip.classList.toggle(\'active\', cb.checked);\n    });\n  });\n\n  function icon(svg) { return svg; }\n\n  const PIN  = `<svg width="11" height="13" viewBox="0 0 11 13" fill="none"><path d="M5.5 1C3.01 1 1 3.01 1 5.5c0 3.75 4.5 7.5 4.5 7.5s4.5-3.75 4.5-7.5C10 3.01 7.99 1 5.5 1Z" stroke="currentColor" stroke-width="1.4"/><circle cx="5.5" cy="5.5" r="1.5" stroke="currentColor" stroke-width="1.4"/></svg>`;\n  const CLOCK = `<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><circle cx="6" cy="6" r="5" stroke="currentColor" stroke-width="1.4"/><path d="M6 3.5V6l2 1.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>`;\n  const DOLLAR = `<svg width="12" height="12" viewBox="0 0 12 12" fill="none"><path d="M6 1v10M3.5 8.5c0 .83.67 1.5 2.5 1.5s2.5-.67 2.5-1.5S7.83 7 6 7s-2.5-.67-2.5-1.5S4.17 4 6 4s2.5.67 2.5 1.5" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>`;\n\n  function fmtSalary(s) {\n    if (!s) return null;\n    const fmt = n => n >= 1000 ? `${(n/1000).toFixed(0)}k` : n;\n    const cur = s.currency || \'\';\n    const sym = cur === \'USD\' ? \'$\' : cur === \'GBP\' ? \'¬£\' : cur === \'EUR\' ? \'‚Ç¨\' : cur + \' \';\n    if (s.min_amount && s.max_amount) return `${sym}${fmt(s.min_amount)} ‚Äì ${sym}${fmt(s.max_amount)}`;\n    if (s.min_amount) return `From ${sym}${fmt(s.min_amount)}`;\n    if (s.max_amount) return `Up to ${sym}${fmt(s.max_amount)}`;\n    return null;\n  }\n\n  function fmtDate(d) {\n    if (!d) return null;\n    try {\n      return new Intl.DateTimeFormat(\'en-US\', { month: \'short\', day: \'numeric\', year: \'numeric\' }).format(new Date(d));\n    } catch { return d; }\n  }\n\n  function fmtLocation(loc) {\n    if (!loc) return null;\n    if (typeof loc === \'string\') return loc;\n    return [loc.city, loc.state, loc.country].filter(Boolean).join(\', \') || null;\n  }\n\n  function renderCard(job, idx) {\n    const salary = fmtSalary(job.salary);\n    const location = fmtLocation(job.location);\n    const date = fmtDate(job.date_posted);\n    const site = job.site || \'\';\n\n    const meta = [\n      location ? `<span class="meta-tag">${PIN} ${location}</span>` : \'\',\n      job.is_remote ? `<span class="meta-tag remote">Remote</span>` : \'\',\n      job.job_type ? `<span class="meta-tag">${job.job_type}</span>` : \'\',\n      salary ? `<span class="meta-tag salary">${DOLLAR} ${salary}</span>` : \'\',\n    ].filter(Boolean).join(\'\');\n\n    return `\n      <div class="job-card">\n        <div class="job-top">\n          <div class="job-title">${esc(job.title || \'Untitled\')}</div>\n          ${site ? `<span class="site-pill">${esc(site)}</span>` : \'\'}\n        </div>\n        ${job.company ? `<div class="job-company">${esc(job.company)}</div>` : \'\'}\n        ${meta ? `<div class="job-meta">${meta}</div>` : \'\'}\n        <div class="job-footer">\n          <span class="job-date">${date ? `${CLOCK} ${date}` : \'\'}</span>\n          <div class="job-actions">\n            <button class="btn-details" onclick="showDetail(${idx})">Details</button>\n            ${job.job_url ? `<a class="job-link" href="${esc(job.job_url)}" target="_blank" rel="noopener">Apply ‚Üí</a>` : \'\'}\n          </div>\n        </div>\n      </div>`;\n  }\n\n  function showDetail(idx) {\n    const job = allJobs[idx];\n    if (!job) return;\n\n    document.getElementById(\'mTitle\').textContent = job.title || \'Untitled\';\n    document.getElementById(\'mCompany\').textContent = [\n      job.company,\n      job.company_industry,\n    ].filter(Boolean).join(\' ¬∑ \');\n\n    const rows = [];\n\n    // ‚îÄ‚îÄ Header meta row ‚îÄ‚îÄ\n    const headerItems = [\n      [\'Site\',        job.site],\n      [\'Job Type\',    job.job_type],\n      [\'Level\',       job.job_level],\n      [\'Remote\',      job.is_remote != null ? (job.is_remote ? \'Yes ‚úì\' : \'No\') : null],\n      [\'Location\',    fmtLocation(job.location)],\n      [\'Date Posted\', fmtDate(job.date_posted)],\n    ].filter(([,v]) => v != null && v !== \'\');\n    if (headerItems.length) {\n      rows.push(`<div class="detail-section"><div class="detail-grid">${\n        headerItems.map(([l,v]) => `<div class="detail-item"><div class="di-label">${esc(l)}</div><div class="di-value">${esc(String(v))}</div></div>`).join(\'\')\n      }</div></div>`);\n    }\n\n    // ‚îÄ‚îÄ Salary ‚îÄ‚îÄ\n    if (job.salary && Object.values(job.salary).some(v => v != null)) {\n      const s = job.salary;\n      const salItems = [\n        [\'Min\',      s.min_amount != null ? Number(s.min_amount).toLocaleString() : null],\n        [\'Max\',      s.max_amount != null ? Number(s.max_amount).toLocaleString() : null],\n        [\'Interval\', s.interval],\n        [\'Currency\', s.currency],\n        [\'Source\',   s.salary_source],\n      ].filter(([,v]) => v != null && v !== \'\');\n      if (salItems.length) {\n        rows.push(`<div class="detail-section"><h4>Compensation</h4><div class="detail-grid">${\n          salItems.map(([l,v]) => `<div class="detail-item"><div class="di-label">${esc(l)}</div><div class="di-value">${esc(String(v))}</div></div>`).join(\'\')\n        }</div></div>`);\n      }\n    }\n\n    // ‚îÄ‚îÄ Company ‚îÄ‚îÄ\n    const coItems = [\n      [\'Industry\',   job.company_industry],\n      [\'Employees\',  job.company_employees_label],\n      [\'Revenue\',    job.company_revenue_label],\n      [\'Country\',    job.company_country],\n    ].filter(([,v]) => v != null && v !== \'\');\n    const hasCoSection = coItems.length || job.company_url || job.company_description;\n    if (hasCoSection) {\n      let coHtml = \'\';\n      if (coItems.length) coHtml += `<div class="detail-grid" style="margin-bottom:10px">${coItems.map(([l,v]) => `<div class="detail-item"><div class="di-label">${esc(l)}</div><div class="di-value">${esc(String(v))}</div></div>`).join(\'\')}</div>`;\n      if (job.company_url) coHtml += `<a class="detail-link" style="margin-bottom:10px" href="${esc(job.company_url)}" target="_blank" rel="noopener">Company Profile ‚Üí</a>`;\n      if (job.company_description) coHtml += `<div class="detail-description" style="margin-top:8px">${esc(job.company_description)}</div>`;\n      rows.push(`<div class="detail-section"><h4>Company</h4>${coHtml}</div>`);\n    }\n\n    // ‚îÄ‚îÄ Skills ‚îÄ‚îÄ\n    if (Array.isArray(job.skills) && job.skills.length) {\n      rows.push(`<div class="detail-section"><h4>Required Skills</h4><div class="tag-list">${\n        job.skills.map(s => `<span>${esc(s)}</span>`).join(\'\')\n      }</div></div>`);\n    }\n\n    // ‚îÄ‚îÄ Contact Emails ‚îÄ‚îÄ\n    if (Array.isArray(job.emails) && job.emails.length) {\n      rows.push(`<div class="detail-section"><h4>Contact Emails</h4><div class="tag-list">${\n        job.emails.map(e => `<span>${esc(e)}</span>`).join(\'\')\n      }</div></div>`);\n    }\n\n    // ‚îÄ‚îÄ Extra fields (Naukri etc.) ‚îÄ‚îÄ\n    const extraItems = [\n      [\'Experience\',  job.experience_range],\n      [\'Rating\',      job.company_rating],\n      [\'Reviews\',     job.company_reviews_count],\n      [\'Vacancies\',   job.vacancy_count],\n      [\'WFH Type\',    job.work_from_home_type],\n    ].filter(([,v]) => v != null && v !== \'\');\n    if (extraItems.length) {\n      rows.push(`<div class="detail-section"><h4>Additional Info</h4><div class="detail-grid">${\n        extraItems.map(([l,v]) => `<div class="detail-item"><div class="di-label">${esc(l)}</div><div class="di-value">${esc(String(v))}</div></div>`).join(\'\')\n      }</div></div>`);\n    }\n\n    // ‚îÄ‚îÄ Job description ‚îÄ‚îÄ\n    if (job.description) {\n      const isHtml = /<[a-z][\\s\\S]*>/i.test(job.description);\n      const descHtml = isHtml\n        ? job.description\n        : (typeof marked !== \'undefined\' ? marked.parse(job.description) : `<pre style="white-space:pre-wrap">${esc(job.description)}</pre>`);\n      rows.push(`<div class="detail-section"><h4>Job Description</h4><div class="detail-description md-body">${descHtml}</div></div>`);\n    }\n\n    // ‚îÄ‚îÄ Apply CTA ‚îÄ‚îÄ\n    if (job.job_url) {\n      rows.push(`<div style="padding-top:4px"><a class="detail-link" href="${esc(job.job_url)}" target="_blank" rel="noopener">Apply / View Posting ‚Üí</a></div>`);\n    }\n\n    document.getElementById(\'mBody\').innerHTML = rows.join(\'\');\n    document.getElementById(\'modalOverlay\').classList.add(\'open\');\n    document.body.style.overflow = \'hidden\';\n  }\n\n  function closeModal() {\n    document.getElementById(\'modalOverlay\').classList.remove(\'open\');\n    document.body.style.overflow = \'\';\n  }\n\n  function handleOverlayClick(e) {\n    if (e.target === document.getElementById(\'modalOverlay\')) closeModal();\n  }\n\n  document.addEventListener(\'keydown\', e => {\n    if (e.key === \'Escape\') closeModal();\n  });\n\n  function esc(s) {\n    return String(s).replace(/&/g,\'&amp;\').replace(/</g,\'&lt;\').replace(/>/g,\'&gt;\').replace(/"/g,\'&quot;\');\n  }\n\n  async function search() {\n    const btn = document.getElementById(\'searchBtn\');\n    const sites = [...document.querySelectorAll(\'.site-chip input:checked\')].map(c => c.value);\n    if (!sites.length) { alert(\'Select at least one job board.\'); return; }\n\n    const params = new URLSearchParams();\n    params.set(\'site_name\', sites.join(\',\'));\n\n    const get = id => document.getElementById(id).value.trim();\n    if (get(\'search_term\'))   params.set(\'search_term\',   get(\'search_term\'));\n    if (get(\'location\'))      params.set(\'location\',      get(\'location\'));\n    if (get(\'country_indeed\'))params.set(\'country_indeed\',get(\'country_indeed\'));\n    if (get(\'job_type\'))      params.set(\'job_type\',      get(\'job_type\'));\n    if (get(\'is_remote\'))     params.set(\'is_remote\',     get(\'is_remote\'));\n    if (get(\'results_wanted\'))params.set(\'results_wanted\',get(\'results_wanted\'));\n    if (get(\'hours_old\'))     params.set(\'hours_old\',     get(\'hours_old\'));\n\n    // UI ‚Äî loading state\n    btn.disabled = true;\n    btn.classList.add(\'loading\');\n    document.getElementById(\'hintText\').textContent = \'Scraping job boards‚Ä¶\';\n    document.getElementById(\'results-section\').style.display = \'none\';\n    document.getElementById(\'errorBox\').style.display = \'none\';\n    document.getElementById(\'emptyBox\').style.display = \'none\';\n\n    try {\n      const res = await fetch(`/api/jobs?${params}`);\n      const data = await res.json();\n\n      if (!res.ok) throw new Error(data.error || `HTTP ${res.status}`);\n\n      const jobs = data.jobs || [];\n      if (jobs.length === 0) {\n        document.getElementById(\'emptyBox\').style.display = \'block\';\n      } else {\n        allJobs = jobs;\n        document.getElementById(\'jobsGrid\').innerHTML = jobs.map((j, i) => renderCard(j, i)).join(\'\');\n        document.getElementById(\'resultsTitle\').textContent = `Jobs`;\n        document.getElementById(\'countBadge\').textContent = `${jobs.length} found`;\n        document.getElementById(\'results-section\').style.display = \'block\';\n      }\n      document.getElementById(\'hintText\').textContent = `Done ‚Äî ${jobs.length} job(s) returned.`;\n    } catch (err) {\n      document.getElementById(\'errorText\').textContent = err.message;\n      document.getElementById(\'errorBox\').style.display = \'block\';\n      document.getElementById(\'hintText\').textContent = \'Search failed.\';\n    } finally {\n      btn.disabled = false;\n      btn.classList.remove(\'loading\');\n    }\n  }\n\n  // Allow Enter key to trigger search (not when modal is open)\n  document.addEventListener(\'keydown\', e => {\n    if (e.key === \'Enter\' && !document.getElementById(\'searchBtn\').disabled\n        && !document.getElementById(\'modalOverlay\').classList.contains(\'open\')) search();\n  });\n</script>\n</body>\n</html>\n'

DOCS_HTML = '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <title>Docs ‚Äî Job API</title>\n  <style>\n    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n\n    :root {\n      --blue:        #007AFF;\n      --blue-dark:   #0062CC;\n      --bg:          #F5F5F7;\n      --surface:     #FFFFFF;\n      --border:      #D2D2D7;\n      --text:        #1D1D1F;\n      --subtext:     #6E6E73;\n      --tag-bg:      #F0F4FF;\n      --tag-text:    #0051D6;\n      --green:       #34C759;\n      --red:         #FF3B30;\n      --orange:      #FF9500;\n      --purple:      #AF52DE;\n      --radius:      14px;\n      --radius-sm:   8px;\n      --shadow-card: 0 1px 6px rgba(0,0,0,.06), 0 4px 24px rgba(0,0,0,.06);\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;\n      background: var(--bg);\n      color: var(--text);\n      min-height: 100vh;\n    }\n\n    /* ‚îÄ‚îÄ Nav ‚îÄ‚îÄ */\n    nav {\n      background: rgba(255,255,255,.82);\n      backdrop-filter: saturate(180%) blur(20px);\n      -webkit-backdrop-filter: saturate(180%) blur(20px);\n      border-bottom: 1px solid rgba(0,0,0,.06);\n      position: sticky;\n      top: 0;\n      z-index: 100;\n      padding: 0 24px;\n      height: 52px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    .nav-logo {\n      font-size: 17px;\n      font-weight: 600;\n      letter-spacing: -.3px;\n      color: var(--text);\n      text-decoration: none;\n    }\n    .nav-logo span { color: var(--blue); }\n    .nav-links { display: flex; align-items: center; gap: 4px; }\n    .nav-link {\n      font-size: 14px;\n      font-weight: 500;\n      color: var(--subtext);\n      text-decoration: none;\n      padding: 6px 12px;\n      border-radius: 8px;\n      transition: background .15s, color .15s;\n    }\n    .nav-link:hover { background: var(--bg); color: var(--text); }\n    .nav-link.active { color: var(--blue); background: var(--tag-bg); }\n\n    /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */\n    .page-wrap {\n      display: flex;\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 40px 24px 80px;\n      gap: 40px;\n    }\n\n    /* ‚îÄ‚îÄ Sidebar TOC ‚îÄ‚îÄ */\n    .sidebar {\n      width: 220px;\n      flex-shrink: 0;\n    }\n    .sidebar-inner {\n      position: sticky;\n      top: 72px;\n    }\n    .toc-section {\n      margin-bottom: 24px;\n    }\n    .toc-label {\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .6px;\n      color: var(--subtext);\n      margin-bottom: 8px;\n      padding-left: 10px;\n    }\n    .toc-link {\n      display: block;\n      font-size: 14px;\n      color: var(--subtext);\n      text-decoration: none;\n      padding: 5px 10px;\n      border-radius: var(--radius-sm);\n      transition: background .12s, color .12s;\n      border-left: 2px solid transparent;\n    }\n    .toc-link:hover { background: var(--surface); color: var(--text); }\n    .toc-link.active { color: var(--blue); border-left-color: var(--blue); background: var(--tag-bg); }\n\n    /* ‚îÄ‚îÄ Main content ‚îÄ‚îÄ */\n    .content { flex: 1; min-width: 0; }\n\n    .section {\n      margin-bottom: 48px;\n      scroll-margin-top: 72px;\n    }\n\n    .section-title {\n      font-size: 26px;\n      font-weight: 700;\n      letter-spacing: -.4px;\n      margin-bottom: 16px;\n      padding-bottom: 12px;\n      border-bottom: 1px solid var(--border);\n    }\n\n    .section-sub {\n      font-size: 18px;\n      font-weight: 600;\n      letter-spacing: -.2px;\n      margin-bottom: 12px;\n      margin-top: 28px;\n    }\n\n    p { font-size: 15px; line-height: 1.65; color: var(--text); margin-bottom: 12px; }\n    p a { color: var(--blue); text-decoration: none; }\n    p a:hover { text-decoration: underline; }\n\n    /* ‚îÄ‚îÄ Method badge ‚îÄ‚îÄ */\n    .method {\n      display: inline-block;\n      font-size: 11px;\n      font-weight: 700;\n      padding: 3px 8px;\n      border-radius: 6px;\n      letter-spacing: .4px;\n      margin-right: 6px;\n      vertical-align: middle;\n    }\n    .method.get  { background: rgba(52,199,89,.15);  color: #1a7a35; }\n    .method.post { background: rgba(0,122,255,.12);  color: var(--blue); }\n\n    /* ‚îÄ‚îÄ Endpoint card ‚îÄ‚îÄ */\n    .endpoint-card {\n      background: var(--surface);\n      border-radius: var(--radius);\n      box-shadow: var(--shadow-card);\n      margin-bottom: 16px;\n      overflow: hidden;\n      scroll-margin-top: 80px;\n    }\n    .endpoint-header {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 14px 20px;\n    }\n    .endpoint-path {\n      font-size: 15px;\n      font-weight: 600;\n      font-family: "SF Mono", "Fira Code", monospace;\n      flex: 1;\n    }\n    .endpoint-desc {\n      font-size: 13px;\n      color: var(--subtext);\n    }\n    .caret {\n      font-size: 12px;\n      color: var(--subtext);\n      transition: transform .2s;\n    }\n    .endpoint-card.open .caret { transform: rotate(180deg); }\n    .endpoint-body {\n      display: none;\n      padding: 0 20px 20px;\n      border-top: 1px solid var(--border);\n    }\n    .endpoint-card.open .endpoint-body { display: block; }\n    .endpoint-note {\n      font-size: 14px;\n      color: var(--subtext);\n      line-height: 1.6;\n      padding: 12px 0;\n    }\n\n    /* ‚îÄ‚îÄ Params table ‚îÄ‚îÄ */\n    .param-table {\n      width: 100%;\n      border-collapse: collapse;\n      font-size: 14px;\n      margin-top: 8px;\n    }\n    .param-table th {\n      text-align: left;\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .5px;\n      color: var(--subtext);\n      padding: 8px 12px;\n      border-bottom: 1px solid var(--border);\n    }\n    .param-table td {\n      padding: 10px 12px;\n      vertical-align: top;\n      border-bottom: 1px solid rgba(0,0,0,.04);\n    }\n    .param-table tr:last-child td { border-bottom: none; }\n    .param-table tr:hover td { background: var(--bg); }\n    .p-name {\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 13px;\n      font-weight: 600;\n      color: var(--text);\n    }\n    .p-type {\n      font-size: 11px;\n      font-weight: 500;\n      padding: 2px 7px;\n      border-radius: 5px;\n      background: var(--bg);\n      color: var(--subtext);\n      white-space: nowrap;\n    }\n    .p-req {\n      font-size: 11px;\n      font-weight: 600;\n      color: var(--red);\n    }\n    .p-opt {\n      font-size: 11px;\n      color: var(--subtext);\n    }\n    .p-desc { color: var(--subtext); line-height: 1.5; }\n    .p-default {\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 12px;\n      background: var(--tag-bg);\n      color: var(--tag-text);\n      padding: 2px 6px;\n      border-radius: 4px;\n    }\n\n    /* ‚îÄ‚îÄ Code block ‚îÄ‚îÄ */\n    .code-tabs {\n      margin-top: 8px;\n    }\n    .tab-row {\n      display: flex;\n      gap: 2px;\n      margin-bottom: -1px;\n    }\n    .tab-btn {\n      font-size: 12px;\n      font-weight: 500;\n      padding: 6px 14px;\n      border: 1px solid var(--border);\n      border-bottom: none;\n      border-radius: 8px 8px 0 0;\n      background: var(--bg);\n      color: var(--subtext);\n      cursor: pointer;\n      font-family: inherit;\n      transition: background .12s, color .12s;\n    }\n    .tab-btn.active { background: #1C1C1E; color: #fff; border-color: #1C1C1E; }\n    .code-block {\n      background: #1C1C1E;\n      border-radius: 0 var(--radius-sm) var(--radius-sm) var(--radius-sm);\n      padding: 18px 20px;\n      font-family: "SF Mono", "Fira Code", "Cascadia Code", monospace;\n      font-size: 13px;\n      line-height: 1.7;\n      color: #E8E8E8;\n      overflow-x: auto;\n      white-space: pre;\n      border: 1px solid #333;\n      position: relative;\n    }\n    .code-block .kw  { color: #FC9B5B; }\n    .code-block .str { color: #99D682; }\n    .code-block .cm  { color: #7A7A8C; }\n    .code-block .num { color: #79C0FF; }\n    .copy-btn {\n      position: absolute;\n      top: 10px; right: 12px;\n      font-size: 11px;\n      font-weight: 500;\n      padding: 4px 10px;\n      border-radius: 6px;\n      border: 1px solid #444;\n      background: #2C2C2E;\n      color: #AAA;\n      cursor: pointer;\n      font-family: inherit;\n      transition: background .12s;\n    }\n    .copy-btn:hover { background: #3A3A3C; color: #fff; }\n\n    /* ‚îÄ‚îÄ Response schema ‚îÄ‚îÄ */\n    .schema-box {\n      background: var(--surface);\n      border-radius: var(--radius);\n      box-shadow: var(--shadow-card);\n      padding: 20px 24px;\n    }\n    .schema-field {\n      display: grid;\n      grid-template-columns: 180px 80px 1fr;\n      gap: 8px 16px;\n      align-items: start;\n      padding: 8px 0;\n      border-bottom: 1px solid rgba(0,0,0,.04);\n      font-size: 14px;\n    }\n    .schema-field:last-child { border-bottom: none; }\n    .sf-name {\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 13px;\n      font-weight: 600;\n    }\n    .sf-type {\n      font-size: 12px;\n      background: var(--bg);\n      color: var(--subtext);\n      padding: 2px 8px;\n      border-radius: 5px;\n      text-align: center;\n      font-weight: 500;\n      align-self: center;\n    }\n    .sf-desc { color: var(--subtext); line-height: 1.5; }\n\n    /* ‚îÄ‚îÄ Info callout ‚îÄ‚îÄ */\n    .callout {\n      display: flex;\n      gap: 12px;\n      padding: 14px 18px;\n      border-radius: var(--radius-sm);\n      font-size: 14px;\n      line-height: 1.6;\n      margin-bottom: 16px;\n    }\n    .callout.info  { background: var(--tag-bg); border-left: 3px solid var(--blue); color: #004499; }\n    .callout.warn  { background: rgba(255,149,0,.1); border-left: 3px solid var(--orange); color: #7a4800; }\n    .callout-icon  { font-size: 16px; flex-shrink: 0; margin-top: 1px; }\n\n    /* ‚îÄ‚îÄ Inline code ‚îÄ‚îÄ */\n    code {\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 12.5px;\n      background: var(--bg);\n      border: 1px solid var(--border);\n      padding: 1px 6px;\n      border-radius: 5px;\n      color: var(--text);\n    }\n\n    /* ‚îÄ‚îÄ Base URL pill ‚îÄ‚îÄ */\n    .base-url {\n      display: inline-flex;\n      align-items: center;\n      gap: 8px;\n      background: #1C1C1E;\n      color: #E8E8E8;\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 14px;\n      padding: 10px 18px;\n      border-radius: var(--radius-sm);\n      margin-bottom: 16px;\n    }\n    .base-url .env { color: #FC9B5B; }\n\n    @media (max-width: 800px) {\n      .sidebar { display: none; }\n      .page-wrap { padding: 24px 16px 60px; }\n    }\n  </style>\n</head>\n<body>\n\n<nav>\n  <a class="nav-logo" href="/">Job <span>API</span></a>\n  <div class="nav-links">\n    <a href="/" class="nav-link">Search</a>\n    <a href="/docs.html" class="nav-link active">Docs</a>\n    <a href="/playground.html" class="nav-link">Playground</a>\n  </div>\n</nav>\n\n<div class="page-wrap">\n\n  <!-- Sidebar -->\n  <aside class="sidebar">\n    <div class="sidebar-inner">\n      <div class="toc-section">\n        <div class="toc-label">Getting Started</div>\n        <a href="#overview"    class="toc-link">Overview</a>\n        <a href="#quickstart"  class="toc-link">Quick Start</a>\n        <a href="#base-url"    class="toc-link">Base URL</a>\n      </div>\n      <div class="toc-section">\n        <div class="toc-label">Endpoints</div>\n        <a href="#card-get-jobs"  class="toc-link">GET /api/jobs</a>\n        <a href="#card-post-jobs" class="toc-link">POST /api/jobs</a>\n        <a href="#card-health"    class="toc-link">GET /api/health</a>\n      </div>\n      <div class="toc-section">\n        <div class="toc-label">Reference</div>\n        <a href="#response"    class="toc-link">Response Schema</a>\n        <a href="#examples"    class="toc-link">Code Examples</a>\n      </div>\n    </div>\n  </aside>\n\n  <!-- Main content -->\n  <main class="content">\n\n    <!-- Overview -->\n    <section class="section" id="overview">\n      <h2 class="section-title">Overview</h2>\n      <p>\n        Job API is a REST service that aggregates job postings from multiple boards in a single\n        request. It wraps <a href="https://github.com/Bunsly/JobSpy" target="_blank">python-jobspy</a>\n        and exposes it as a clean JSON API deployable on Vercel.\n      </p>\n      <p>Supported job boards: <code>indeed</code>, <code>linkedin</code>, <code>glassdoor</code>,\n        <code>zip_recruiter</code>, <code>google</code>, <code>bayt</code>, <code>naukri</code>, <code>bdjobs</code>.\n      </p>\n      <div class="callout info">\n        <span class="callout-icon">‚ÑπÔ∏è</span>\n        <span>Want to test the API interactively? Use the <a href="/playground.html">Playground</a> ‚Äî it\'s a built-in API client that lets you send requests and inspect responses.</span>\n      </div>\n    </section>\n\n    <!-- Quick Start -->\n    <section class="section" id="quickstart">\n      <h2 class="section-title">Quick Start</h2>\n      <p>The simplest possible request ‚Äî search for software engineer jobs on Indeed:</p>\n      <div class="code-tabs">\n        <div class="tab-row">\n          <button class="tab-btn active" onclick="switchTab(this,\'qs\',\'curl\')">curl</button>\n          <button class="tab-btn" onclick="switchTab(this,\'qs\',\'python\')">Python</button>\n          <button class="tab-btn" onclick="switchTab(this,\'qs\',\'js\')">JavaScript</button>\n        </div>\n        <div class="code-block" id="qs-curl"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="cm"># Replace with your deployed URL</span>\ncurl <span class="str">"https://j0b-api.vercel.app/api/jobs?search_term=software+engineer&location=New+York&site_name=indeed&results_wanted=10"</span></div>\n        <div class="code-block" id="qs-python" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="kw">import</span> requests\n\nresp = requests.get(\n    <span class="str">"https://j0b-api.vercel.app/api/jobs"</span>,\n    params={\n        <span class="str">"search_term"</span>:    <span class="str">"software engineer"</span>,\n        <span class="str">"location"</span>:        <span class="str">"New York, NY"</span>,\n        <span class="str">"site_name"</span>:       <span class="str">"indeed,linkedin"</span>,\n        <span class="str">"results_wanted"</span>:  <span class="num">15</span>,\n        <span class="str">"hours_old"</span>:       <span class="num">72</span>,\n    }\n)\ndata = resp.json()\n<span class="kw">print</span>(f<span class="str">"Found {data[\'count\']} jobs"</span>)\n<span class="kw">for</span> job <span class="kw">in</span> data[<span class="str">"jobs"</span>]:\n    <span class="kw">print</span>(job[<span class="str">"title"</span>], <span class="str">"@"</span>, job[<span class="str">"company"</span>])</div>\n        <div class="code-block" id="qs-js" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="kw">const</span> params = <span class="kw">new</span> URLSearchParams({\n  search_term:   <span class="str">"software engineer"</span>,\n  location:      <span class="str">"New York, NY"</span>,\n  site_name:     <span class="str">"indeed,linkedin"</span>,\n  results_wanted: <span class="num">15</span>,\n  hours_old:      <span class="num">72</span>,\n});\n\n<span class="kw">const</span> res  = <span class="kw">await</span> fetch(<span class="str">`/api/jobs?${params}`</span>);\n<span class="kw">const</span> data = <span class="kw">await</span> res.json();\n\nconsole.log(<span class="str">`Found ${data.count} jobs`</span>);\ndata.jobs.forEach(j => console.log(j.title, <span class="str">"@"</span>, j.company));</div>\n      </div>\n    </section>\n\n    <!-- Base URL -->\n    <section class="section" id="base-url">\n      <h2 class="section-title">Base URL</h2>\n      <div class="base-url">https://j0b-api.vercel.app</div>\n      <p>All endpoints are relative to the base URL. In local development the default is <code>http://localhost:8000</code>.</p>\n    </section>\n\n    <!-- Endpoints -->\n    <section class="section" id="ep-jobs">\n      <h2 class="section-title">Endpoints</h2>\n\n      <!-- GET /api/jobs -->\n      <div class="endpoint-card open" id="card-get-jobs">\n        <div class="endpoint-header">\n          <span class="method get">GET</span>\n          <span class="endpoint-path">/api/jobs</span>\n          <span class="endpoint-desc">Scrape jobs via query string</span>\n        </div>\n        <div class="endpoint-body">\n          <p class="endpoint-note">Pass all parameters as URL query parameters. Ideal for browser fetches and simple integrations.</p>\n          <table class="param-table">\n            <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr>\n            <tr><td class="p-name">search_term</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Keyword query. Supports <code>-negative</code> and <code>"exact phrase"</code>.</td></tr>\n            <tr><td class="p-name">site_name</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td><span class="p-default">all</span></td><td class="p-desc">Comma-separated boards: <code>indeed</code>, <code>linkedin</code>, <code>glassdoor</code>, <code>zip_recruiter</code>, <code>google</code>, <code>bayt</code>, <code>naukri</code>, <code>bdjobs</code>.</td></tr>\n            <tr><td class="p-name">location</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">City, state, country, or any location string.</td></tr>\n            <tr><td class="p-name">country_indeed</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td><span class="p-default">USA</span></td><td class="p-desc">Country filter for Indeed and Glassdoor. E.g. <code>UK</code>, <code>Canada</code>, <code>Germany</code>.</td></tr>\n            <tr><td class="p-name">results_wanted</td><td><span class="p-type">integer</span></td><td class="p-opt">optional</td><td><span class="p-default">15</span></td><td class="p-desc">Number of results to return per site (max ~1000).</td></tr>\n            <tr><td class="p-name">hours_old</td><td><span class="p-type">integer</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Only return jobs posted within the last N hours.</td></tr>\n            <tr><td class="p-name">job_type</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc"><code>fulltime</code> | <code>parttime</code> | <code>internship</code> | <code>contract</code></td></tr>\n            <tr><td class="p-name">is_remote</td><td><span class="p-type">boolean</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Filter for remote listings only.</td></tr>\n            <tr><td class="p-name">distance</td><td><span class="p-type">integer</span></td><td class="p-opt">optional</td><td><span class="p-default">50</span></td><td class="p-desc">Search radius in miles.</td></tr>\n            <tr><td class="p-name">offset</td><td><span class="p-type">integer</span></td><td class="p-opt">optional</td><td><span class="p-default">0</span></td><td class="p-desc">Skip the first N results (for pagination).</td></tr>\n            <tr><td class="p-name">description_format</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td><span class="p-default">markdown</span></td><td class="p-desc"><code>markdown</code> | <code>html</code> ‚Äî format for job description text.</td></tr>\n            <tr><td class="p-name">easy_apply</td><td><span class="p-type">boolean</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Return only jobs with in-board quick apply.</td></tr>\n            <tr><td class="p-name">linkedin_fetch_description</td><td><span class="p-type">boolean</span></td><td class="p-opt">optional</td><td><span class="p-default">false</span></td><td class="p-desc">Fetch full LinkedIn descriptions (significantly slower).</td></tr>\n            <tr><td class="p-name">linkedin_company_ids</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Comma-separated LinkedIn company IDs to filter by, e.g. <code>1441,2382</code>.</td></tr>\n            <tr><td class="p-name">enforce_annual_salary</td><td><span class="p-type">boolean</span></td><td class="p-opt">optional</td><td><span class="p-default">false</span></td><td class="p-desc">Normalise all salary figures to annual amounts.</td></tr>\n            <tr><td class="p-name">google_search_term</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Override for Google Jobs only ‚Äî paste the exact query from google.com/search.</td></tr>\n            <tr><td class="p-name">proxies</td><td><span class="p-type">string</span></td><td class="p-opt">optional</td><td>‚Äî</td><td class="p-desc">Comma-separated proxy list <code>user:pass@host:port</code>.</td></tr>\n          </table>\n        </div>\n      </div>\n\n      <!-- POST /api/jobs -->\n      <div class="endpoint-card open" id="card-post-jobs">\n        <div class="endpoint-header">\n          <span class="method post">POST</span>\n          <span class="endpoint-path">/api/jobs</span>\n          <span class="endpoint-desc">Scrape jobs via JSON body</span>\n        </div>\n        <div class="endpoint-body">\n          <p class="endpoint-note">\n            Accepts the same parameters as the GET endpoint but as a JSON body. Query-string params and the JSON body are merged ‚Äî the body wins on conflict.\n            Array fields like <code>site_name</code> and <code>linkedin_company_ids</code> can be passed as real JSON arrays.\n          </p>\n          <div class="code-tabs" style="margin-top:12px">\n            <div class="tab-row">\n              <button class="tab-btn active" onclick="switchTab(this,\'post\',\'curl\')">curl</button>\n              <button class="tab-btn" onclick="switchTab(this,\'post\',\'python\')">Python</button>\n            </div>\n            <div class="code-block" id="post-curl"><button class="copy-btn" onclick="copyCode(this)">Copy</button>curl -X POST <span class="str">"https://j0b-api.vercel.app/api/jobs"</span> \\\n  -H <span class="str">"Content-Type: application/json"</span> \\\n  -d <span class="str">\'{\n    "site_name": ["indeed", "linkedin"],\n    "search_term": "data scientist",\n    "location": "San Francisco, CA",\n    "results_wanted": 20,\n    "hours_old": 48,\n    "is_remote": true\n  }\'</span></div>\n            <div class="code-block" id="post-python" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="kw">import</span> requests\n\nresp = requests.post(\n    <span class="str">"https://j0b-api.vercel.app/api/jobs"</span>,\n    json={\n        <span class="str">"site_name"</span>:      [<span class="str">"indeed"</span>, <span class="str">"linkedin"</span>],\n        <span class="str">"search_term"</span>:    <span class="str">"data scientist"</span>,\n        <span class="str">"location"</span>:       <span class="str">"San Francisco, CA"</span>,\n        <span class="str">"results_wanted"</span>: <span class="num">20</span>,\n        <span class="str">"hours_old"</span>:      <span class="num">48</span>,\n        <span class="str">"is_remote"</span>:      <span class="kw">True</span>,\n    }\n)\ndata = resp.json()\n<span class="kw">print</span>(data[<span class="str">"count"</span>], <span class="str">"jobs found"</span>)</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- GET /api/health -->\n      <div class="endpoint-card open" id="card-health">\n        <div class="endpoint-header">\n          <span class="method get">GET</span>\n          <span class="endpoint-path">/api/health</span>\n          <span class="endpoint-desc">Check API status</span>\n        </div>\n        <div class="endpoint-body">\n          <p class="endpoint-note">Returns a simple status object. Useful for uptime monitoring and deployment checks.</p>\n          <div class="code-block" style="margin-top:12px"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="cm"># Response</span>\n{\n  <span class="str">"status"</span>: <span class="str">"ok"</span>,\n  <span class="str">"service"</span>: <span class="str">"Job API"</span>\n}</div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Response Schema -->\n    <section class="section" id="response">\n      <h2 class="section-title">Response Schema</h2>\n      <p>All successful job requests return the following top-level structure:</p>\n\n      <div class="schema-box" style="margin-bottom:16px">\n        <div class="schema-field" style="font-weight:600; font-size:12px; color:var(--subtext); padding-bottom:6px;">\n          <span>Field</span><span>Type</span><span>Description</span>\n        </div>\n        <div class="schema-field">\n          <span class="sf-name">jobs</span>\n          <span class="sf-type">array</span>\n          <span class="sf-desc">Array of job posting objects (see below).</span>\n        </div>\n        <div class="schema-field">\n          <span class="sf-name">count</span>\n          <span class="sf-type">integer</span>\n          <span class="sf-desc">Total number of jobs returned.</span>\n        </div>\n        <div class="schema-field">\n          <span class="sf-name">sites</span>\n          <span class="sf-type">array</span>\n          <span class="sf-desc">The job boards that were queried.</span>\n        </div>\n        <div class="schema-field">\n          <span class="sf-name">query</span>\n          <span class="sf-type">object</span>\n          <span class="sf-desc">Echo of the parameters used for the request.</span>\n        </div>\n      </div>\n\n      <h3 class="section-sub">Job Object</h3>\n      <div class="schema-box">\n        <div class="schema-field" style="font-weight:600; font-size:12px; color:var(--subtext); padding-bottom:6px;">\n          <span>Field</span><span>Type</span><span>Description</span>\n        </div>\n        <div class="schema-field"><span class="sf-name">title</span><span class="sf-type">string</span><span class="sf-desc">Job title.</span></div>\n        <div class="schema-field"><span class="sf-name">company</span><span class="sf-type">string</span><span class="sf-desc">Employer name.</span></div>\n        <div class="schema-field"><span class="sf-name">site</span><span class="sf-type">string</span><span class="sf-desc">Source board (e.g. <code>indeed</code>).</span></div>\n        <div class="schema-field"><span class="sf-name">job_url</span><span class="sf-type">string</span><span class="sf-desc">Direct link to the job posting.</span></div>\n        <div class="schema-field"><span class="sf-name">location</span><span class="sf-type">object</span><span class="sf-desc"><code>{ city, state, country }</code></span></div>\n        <div class="schema-field"><span class="sf-name">is_remote</span><span class="sf-type">boolean</span><span class="sf-desc">Whether the role is remote.</span></div>\n        <div class="schema-field"><span class="sf-name">job_type</span><span class="sf-type">string</span><span class="sf-desc"><code>fulltime</code>, <code>parttime</code>, <code>contract</code>, or <code>internship</code>.</span></div>\n        <div class="schema-field"><span class="sf-name">job_level</span><span class="sf-type">string</span><span class="sf-desc">Seniority level (where available).</span></div>\n        <div class="schema-field"><span class="sf-name">date_posted</span><span class="sf-type">string</span><span class="sf-desc">ISO-8601 date, e.g. <code>2025-01-15</code>.</span></div>\n        <div class="schema-field"><span class="sf-name">salary</span><span class="sf-type">object</span><span class="sf-desc"><code>{ min_amount, max_amount, interval, currency, salary_source }</code></span></div>\n        <div class="schema-field"><span class="sf-name">description</span><span class="sf-type">string</span><span class="sf-desc">Full job description in the requested format.</span></div>\n        <div class="schema-field"><span class="sf-name">emails</span><span class="sf-type">array</span><span class="sf-desc">Contact emails found in the posting.</span></div>\n        <div class="schema-field"><span class="sf-name">skills</span><span class="sf-type">array</span><span class="sf-desc">Skills extracted from the description (where available).</span></div>\n        <div class="schema-field"><span class="sf-name">company_url</span><span class="sf-type">string</span><span class="sf-desc">URL to the company\'s profile page.</span></div>\n        <div class="schema-field"><span class="sf-name">company_industry</span><span class="sf-type">string</span><span class="sf-desc">Industry category.</span></div>\n      </div>\n    </section>\n\n    <!-- Code Examples -->\n    <section class="section" id="examples">\n      <h2 class="section-title">Code Examples</h2>\n\n      <h3 class="section-sub">Remote jobs posted in the last 24h</h3>\n      <div class="code-tabs">\n        <div class="tab-row">\n          <button class="tab-btn active" onclick="switchTab(this,\'ex1\',\'curl\')">curl</button>\n          <button class="tab-btn" onclick="switchTab(this,\'ex1\',\'python\')">Python</button>\n          <button class="tab-btn" onclick="switchTab(this,\'ex1\',\'js\')">JavaScript</button>\n        </div>\n        <div class="code-block" id="ex1-curl"><button class="copy-btn" onclick="copyCode(this)">Copy</button>curl <span class="str">"https://j0b-api.vercel.app/api/jobs?search_term=product+manager&is_remote=true&hours_old=24&results_wanted=25&site_name=linkedin,indeed"</span></div>\n        <div class="code-block" id="ex1-python" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="kw">import</span> requests\n\njobs = requests.get(<span class="str">"https://j0b-api.vercel.app/api/jobs"</span>, params={\n    <span class="str">"search_term"</span>:   <span class="str">"product manager"</span>,\n    <span class="str">"is_remote"</span>:     <span class="str">"true"</span>,\n    <span class="str">"hours_old"</span>:     <span class="num">24</span>,\n    <span class="str">"results_wanted"</span>:<span class="num">25</span>,\n    <span class="str">"site_name"</span>:     <span class="str">"linkedin,indeed"</span>,\n}).json()[<span class="str">"jobs"</span>]\n\n<span class="kw">for</span> j <span class="kw">in</span> jobs:\n    <span class="kw">print</span>(j[<span class="str">"title"</span>], j.get(<span class="str">"company"</span>))</div>\n        <div class="code-block" id="ex1-js" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button><span class="kw">const</span> { jobs } = <span class="kw">await</span> fetch(<span class="str">"/api/jobs?"</span> + <span class="kw">new</span> URLSearchParams({\n  search_term:    <span class="str">"product manager"</span>,\n  is_remote:      <span class="str">"true"</span>,\n  hours_old:      <span class="num">24</span>,\n  results_wanted: <span class="num">25</span>,\n  site_name:      <span class="str">"linkedin,indeed"</span>,\n})).then(r => r.json());\n\njobs.forEach(j => console.log(j.title, j.company));</div>\n      </div>\n\n      <h3 class="section-sub">Filter by specific LinkedIn companies</h3>\n      <div class="code-tabs">\n        <div class="tab-row">\n          <button class="tab-btn active" onclick="switchTab(this,\'ex2\',\'curl\')">curl</button>\n          <button class="tab-btn" onclick="switchTab(this,\'ex2\',\'python\')">Python</button>\n        </div>\n        <div class="code-block" id="ex2-curl"><button class="copy-btn" onclick="copyCode(this)">Copy</button>curl -X POST <span class="str">"https://j0b-api.vercel.app/api/jobs"</span> \\\n  -H <span class="str">"Content-Type: application/json"</span> \\\n  -d <span class="str">\'{\n    "site_name": ["linkedin"],\n    "search_term": "engineer",\n    "linkedin_company_ids": [1441, 1035],\n    "results_wanted": 50\n  }\'</span></div>\n        <div class="code-block" id="ex2-python" style="display:none"><button class="copy-btn" onclick="copyCode(this)">Copy</button>requests.post(<span class="str">"https://j0b-api.vercel.app/api/jobs"</span>, json={\n    <span class="str">"site_name"</span>:           [<span class="str">"linkedin"</span>],\n    <span class="str">"search_term"</span>:         <span class="str">"engineer"</span>,\n    <span class="str">"linkedin_company_ids"</span>: [<span class="num">1441</span>, <span class="num">1035</span>],\n    <span class="str">"results_wanted"</span>:       <span class="num">50</span>,\n}).json()</div>\n      </div>\n    </section>\n\n  </main>\n</div>\n\n<script>\n  function toggleCard(id) {\n    document.getElementById(id).classList.toggle(\'open\');\n  }\n\n  function switchTab(btn, group, tab) {\n    const parent = btn.closest(\'.code-tabs\');\n    parent.querySelectorAll(\'.tab-btn\').forEach(b => b.classList.remove(\'active\'));\n    btn.classList.add(\'active\');\n    parent.querySelectorAll(\'.code-block\').forEach(b => b.style.display = \'none\');\n    const target = document.getElementById(`${group}-${tab}`);\n    if (target) target.style.display = \'block\';\n  }\n\n  function copyCode(btn) {\n    const block = btn.parentElement;\n    const text = block.innerText.replace(/^Copy\\n?/, \'\').trim();\n    navigator.clipboard.writeText(text).then(() => {\n      btn.textContent = \'Copied!\';\n      setTimeout(() => btn.textContent = \'Copy\', 1500);\n    });\n  }\n\n  // Active TOC link on scroll\n  const tocLinks = document.querySelectorAll(\'.toc-link\');\n  const observerTargets = document.querySelectorAll(\'.section:not(#ep-jobs), .endpoint-card[id]\');\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const id = entry.target.id;\n        tocLinks.forEach(l => l.classList.remove(\'active\'));\n        const active = document.querySelector(`.toc-link[href="#${id}"]`);\n        if (active) active.classList.add(\'active\');\n      }\n    });\n  }, { rootMargin: \'-10% 0px -75% 0px\' });\n  observerTargets.forEach(s => observer.observe(s));\n</script>\n</body>\n</html>\n'

PLAYGROUND_HTML = '<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <title>Playground ‚Äî Job API</title>\n  <style>\n    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n\n    :root {\n      --blue:        #007AFF;\n      --blue-dark:   #0062CC;\n      --bg:          #F5F5F7;\n      --surface:     #FFFFFF;\n      --border:      #D2D2D7;\n      --text:        #1D1D1F;\n      --subtext:     #6E6E73;\n      --tag-bg:      #F0F4FF;\n      --tag-text:    #0051D6;\n      --green:       #34C759;\n      --red:         #FF3B30;\n      --orange:      #FF9500;\n      --radius:      14px;\n      --radius-sm:   8px;\n      --shadow-card: 0 1px 6px rgba(0,0,0,.06), 0 4px 24px rgba(0,0,0,.06);\n    }\n\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;\n      background: var(--bg);\n      color: var(--text);\n      height: 100vh;\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n    }\n\n    /* ‚îÄ‚îÄ Nav ‚îÄ‚îÄ */\n    nav {\n      background: rgba(255,255,255,.92);\n      backdrop-filter: saturate(180%) blur(20px);\n      -webkit-backdrop-filter: saturate(180%) blur(20px);\n      border-bottom: 1px solid rgba(0,0,0,.06);\n      flex-shrink: 0;\n      padding: 0 24px;\n      height: 52px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      z-index: 10;\n    }\n    .nav-logo {\n      font-size: 17px;\n      font-weight: 600;\n      letter-spacing: -.3px;\n      color: var(--text);\n      text-decoration: none;\n    }\n    .nav-logo span { color: var(--blue); }\n    .nav-links { display: flex; align-items: center; gap: 4px; }\n    .nav-link {\n      font-size: 14px;\n      font-weight: 500;\n      color: var(--subtext);\n      text-decoration: none;\n      padding: 6px 12px;\n      border-radius: 8px;\n      transition: background .15s, color .15s;\n    }\n    .nav-link:hover { background: var(--bg); color: var(--text); }\n    .nav-link.active { color: var(--blue); background: var(--tag-bg); }\n\n    /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */\n    .pg-layout {\n      display: grid;\n      grid-template-columns: 420px 1fr;\n      flex: 1;\n      overflow: hidden;\n    }\n\n    /* ‚îÄ‚îÄ Request panel ‚îÄ‚îÄ */\n    .req-panel {\n      display: flex;\n      flex-direction: column;\n      border-right: 1px solid var(--border);\n      background: var(--surface);\n      overflow: hidden;\n    }\n\n    .panel-header {\n      padding: 14px 20px;\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      flex-shrink: 0;\n    }\n    .panel-title {\n      font-size: 12px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .6px;\n      color: var(--subtext);\n    }\n\n    /* ‚îÄ‚îÄ URL bar ‚îÄ‚îÄ */\n    .url-bar {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      padding: 12px 16px;\n      border-bottom: 1px solid var(--border);\n      background: var(--bg);\n      flex-shrink: 0;\n    }\n    .method-select {\n      height: 36px;\n      padding: 0 10px;\n      border: 1.5px solid var(--border);\n      border-radius: var(--radius-sm);\n      font-size: 13px;\n      font-weight: 700;\n      font-family: inherit;\n      color: var(--blue);\n      background: var(--surface);\n      cursor: pointer;\n      outline: none;\n      appearance: none;\n      -webkit-appearance: none;\n      min-width: 72px;\n    }\n    .url-input {\n      flex: 1;\n      height: 36px;\n      padding: 0 12px;\n      border: 1.5px solid var(--border);\n      border-radius: var(--radius-sm);\n      font-size: 13px;\n      font-family: "SF Mono", "Fira Code", monospace;\n      color: var(--text);\n      background: var(--surface);\n      outline: none;\n    }\n    .url-input:focus { border-color: var(--blue); }\n    .btn-send {\n      height: 36px;\n      padding: 0 20px;\n      background: var(--blue);\n      color: #fff;\n      border: none;\n      border-radius: var(--radius-sm);\n      font-size: 13px;\n      font-weight: 600;\n      font-family: inherit;\n      cursor: pointer;\n      transition: background .15s;\n      display: flex;\n      align-items: center;\n      gap: 6px;\n      flex-shrink: 0;\n    }\n    .btn-send:hover { background: var(--blue-dark); }\n    .btn-send:disabled { background: #B0C4E8; cursor: not-allowed; }\n    .send-spinner {\n      display: none;\n      width: 14px; height: 14px;\n      border: 2px solid rgba(255,255,255,.4);\n      border-top-color: #fff;\n      border-radius: 50%;\n      animation: spin .6s linear infinite;\n    }\n    .btn-send.loading .send-spinner { display: block; }\n    .btn-send.loading .send-icon { display: none; }\n    @keyframes spin { to { transform: rotate(360deg); } }\n\n    /* ‚îÄ‚îÄ Tabs ‚îÄ‚îÄ */\n    .tab-bar {\n      display: flex;\n      border-bottom: 1px solid var(--border);\n      flex-shrink: 0;\n    }\n    .tab-item {\n      font-size: 13px;\n      font-weight: 500;\n      padding: 10px 16px;\n      color: var(--subtext);\n      cursor: pointer;\n      border-bottom: 2px solid transparent;\n      transition: color .12s;\n      user-select: none;\n    }\n    .tab-item:hover { color: var(--text); }\n    .tab-item.active { color: var(--blue); border-bottom-color: var(--blue); }\n\n    /* ‚îÄ‚îÄ Scrollable form ‚îÄ‚îÄ */\n    .tab-content {\n      flex: 1;\n      overflow-y: auto;\n      padding: 16px;\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n    .tab-content.hidden { display: none; }\n\n    /* ‚îÄ‚îÄ Form field ‚îÄ‚îÄ */\n    .field { display: flex; flex-direction: column; gap: 5px; }\n    .field label {\n      font-size: 12px;\n      font-weight: 500;\n      color: var(--subtext);\n    }\n    .field input, .field select, .field textarea {\n      height: 38px;\n      padding: 0 12px;\n      border: 1.5px solid var(--border);\n      border-radius: var(--radius-sm);\n      font-size: 14px;\n      font-family: inherit;\n      color: var(--text);\n      background: var(--surface);\n      outline: none;\n      transition: border-color .15s;\n      appearance: none;\n      -webkit-appearance: none;\n    }\n    .field input:focus, .field select:focus, .field textarea:focus {\n      border-color: var(--blue);\n      box-shadow: 0 0 0 3px rgba(0,122,255,.1);\n    }\n    .field input::placeholder { color: #AEAEB2; }\n    .field select {\n      background-image: url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'12\' height=\'8\' viewBox=\'0 0 12 8\'%3E%3Cpath d=\'M1 1l5 5 5-5\' stroke=\'%236E6E73\' stroke-width=\'1.5\' fill=\'none\' stroke-linecap=\'round\'/%3E%3C/svg%3E");\n      background-repeat: no-repeat;\n      background-position: right 10px center;\n      padding-right: 30px;\n    }\n\n    .field-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }\n\n    /* Sites chips inside form */\n    .sites-grid { display: flex; flex-wrap: wrap; gap: 6px; }\n    .site-chip {\n      display: inline-flex; align-items: center; gap: 5px;\n      padding: 5px 12px;\n      border-radius: 20px; border: 1.5px solid var(--border);\n      font-size: 12px; font-weight: 500; color: var(--subtext);\n      cursor: pointer; user-select: none; transition: all .12s;\n      background: var(--surface);\n    }\n    .site-chip:hover { border-color: var(--blue); color: var(--blue); }\n    .site-chip input[type="checkbox"] { display: none; }\n    .site-chip.active { background: var(--tag-bg); border-color: var(--blue); color: var(--blue); }\n    .site-chip .dot { width: 5px; height: 5px; border-radius: 50%; background: var(--blue); opacity: 0; transition: opacity .12s; }\n    .site-chip.active .dot { opacity: 1; }\n\n    .form-section-label {\n      font-size: 11px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .5px;\n      color: var(--subtext);\n      padding: 4px 0 2px;\n      border-bottom: 1px solid var(--border);\n      margin-bottom: 2px;\n    }\n\n    /* JSON editor */\n    .json-editor {\n      width: 100%;\n      height: 100%;\n      border: none;\n      padding: 16px;\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 13px;\n      line-height: 1.6;\n      color: var(--text);\n      background: var(--bg);\n      resize: none;\n      outline: none;\n    }\n    .json-editor-wrap {\n      flex: 1;\n      overflow: hidden;\n      display: none;\n      flex-direction: column;\n    }\n    .json-editor-wrap.visible { display: flex; }\n    .json-toolbar {\n      padding: 8px 16px;\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      gap: 8px;\n      flex-shrink: 0;\n      background: var(--surface);\n    }\n    .json-tool-btn {\n      font-size: 12px;\n      font-weight: 500;\n      padding: 4px 10px;\n      border: 1.5px solid var(--border);\n      border-radius: 6px;\n      cursor: pointer;\n      font-family: inherit;\n      background: var(--surface);\n      color: var(--subtext);\n      transition: all .12s;\n    }\n    .json-tool-btn:hover { border-color: var(--blue); color: var(--blue); }\n\n    /* ‚îÄ‚îÄ Response panel ‚îÄ‚îÄ */\n    .res-panel {\n      display: flex;\n      flex-direction: column;\n      overflow: hidden;\n      background: #1C1C1E;\n    }\n\n    .res-header {\n      padding: 12px 20px;\n      border-bottom: 1px solid #333;\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      flex-shrink: 0;\n    }\n    .res-title {\n      font-size: 12px;\n      font-weight: 600;\n      text-transform: uppercase;\n      letter-spacing: .6px;\n      color: #888;\n    }\n    .status-pill {\n      font-size: 12px;\n      font-weight: 600;\n      padding: 3px 10px;\n      border-radius: 20px;\n      background: #2C2C2E;\n      color: #888;\n      font-family: "SF Mono", monospace;\n    }\n    .status-pill.ok     { background: rgba(52,199,89,.15);  color: #34C759; }\n    .status-pill.err    { background: rgba(255,59,48,.15);  color: #FF3B30; }\n    .status-pill.warn   { background: rgba(255,149,0,.15);  color: #FF9500; }\n    .timing-label { font-size: 12px; color: #666; }\n    .count-label  { font-size: 12px; color: #888; margin-left: auto; }\n\n    .res-tabs {\n      display: flex;\n      border-bottom: 1px solid #333;\n      flex-shrink: 0;\n    }\n    .res-tab {\n      font-size: 13px;\n      font-weight: 500;\n      padding: 9px 16px;\n      color: #666;\n      cursor: pointer;\n      border-bottom: 2px solid transparent;\n      transition: color .12s;\n      user-select: none;\n    }\n    .res-tab:hover { color: #aaa; }\n    .res-tab.active { color: #E8E8E8; border-bottom-color: var(--blue); }\n\n    .res-body-wrap {\n      flex: 1;\n      overflow-y: auto;\n      padding: 16px 20px;\n      position: relative;\n    }\n    .res-placeholder {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100%;\n      gap: 10px;\n      color: #555;\n    }\n    .res-placeholder .icon { font-size: 32px; }\n    .res-placeholder p { font-size: 14px; line-height: 1.5; text-align: center; }\n\n    pre.response-json {\n      font-family: "SF Mono", "Fira Code", monospace;\n      font-size: 13px;\n      line-height: 1.65;\n      color: #E8E8E8;\n      white-space: pre-wrap;\n      word-break: break-word;\n    }\n    /* JSON syntax colours */\n    .j-key  { color: #79C0FF; }\n    .j-str  { color: #99D682; }\n    .j-num  { color: #FC9B5B; }\n    .j-bool { color: #F97680; }\n    .j-null { color: #888; }\n\n    .copy-res-btn {\n      position: absolute;\n      top: 12px; right: 16px;\n      font-size: 11px;\n      padding: 4px 10px;\n      border-radius: 6px;\n      border: 1px solid #444;\n      background: #2C2C2E;\n      color: #AAA;\n      cursor: pointer;\n      font-family: inherit;\n      transition: background .12s;\n    }\n    .copy-res-btn:hover { background: #3A3A3C; color: #fff; }\n\n    /* Jobs list tab */\n    .jobs-list { display: none; flex-direction: column; gap: 8px; }\n    .jobs-list.visible { display: flex; }\n    .mini-card {\n      background: #2C2C2E;\n      border-radius: var(--radius-sm);\n      padding: 12px 14px;\n    }\n    .mc-title  { font-size: 14px; font-weight: 600; color: #E8E8E8; margin-bottom: 3px; }\n    .mc-sub    { font-size: 12px; color: #888; }\n    .mc-link   { font-size: 12px; color: var(--blue); text-decoration: none; }\n    .mc-link:hover { text-decoration: underline; }\n    .mc-meta   { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 6px; }\n    .mc-tag    { font-size: 11px; background: #3A3A3C; color: #AAA; padding: 2px 8px; border-radius: 10px; }\n    .mc-tag.remote { color: #34C759; background: rgba(52,199,89,.15); }\n\n    /* Scrollbar */\n    ::-webkit-scrollbar { width: 6px; }\n    ::-webkit-scrollbar-track { background: transparent; }\n    ::-webkit-scrollbar-thumb { background: rgba(128,128,128,.35); border-radius: 3px; }\n\n    @media (max-width: 800px) {\n      .pg-layout { grid-template-columns: 1fr; grid-template-rows: 1fr 1fr; overflow: auto; }\n      body { overflow: auto; height: auto; }\n      .res-panel { min-height: 400px; }\n    }\n  </style>\n</head>\n<body>\n\n<nav>\n  <a class="nav-logo" href="/">Job <span>API</span></a>\n  <div class="nav-links">\n    <a href="/" class="nav-link">Search</a>\n    <a href="/docs.html" class="nav-link">Docs</a>\n    <a href="/playground.html" class="nav-link active">Playground</a>\n  </div>\n</nav>\n\n<div class="pg-layout">\n\n  <!-- ‚îÄ‚îÄ REQUEST PANEL ‚îÄ‚îÄ -->\n  <div class="req-panel">\n    <div class="panel-header">\n      <span class="panel-title">Request</span>\n    </div>\n\n    <!-- URL bar -->\n    <div class="url-bar">\n      <select class="method-select" id="methodSelect" onchange="onMethodChange()">\n        <option value="GET">GET</option>\n        <option value="POST">POST</option>\n      </select>\n      <input class="url-input" id="urlInput" value="/api/jobs" readonly />\n      <button class="btn-send" id="sendBtn" onclick="sendRequest()">\n        <span class="send-icon">\n          <svg width="13" height="13" viewBox="0 0 13 13" fill="none"><path d="M1 6.5h11M7 1.5l5 5-5 5" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>\n        </span>\n        <div class="send-spinner"></div>\n        Send\n      </button>\n    </div>\n\n    <!-- Tabs -->\n    <div class="tab-bar">\n      <div class="tab-item active" onclick="switchReqTab(this,\'params\')">Params</div>\n      <div class="tab-item" onclick="switchReqTab(this,\'body\')">Body (JSON)</div>\n    </div>\n\n    <!-- Params tab -->\n    <div class="tab-content" id="req-tab-params">\n\n      <div class="form-section-label">Job Boards</div>\n      <div class="sites-grid" id="sitesGrid">\n        <label class="site-chip active"><input type="checkbox" value="indeed" checked><span class="dot"></span>Indeed</label>\n        <label class="site-chip active"><input type="checkbox" value="linkedin" checked><span class="dot"></span>LinkedIn</label>\n        <label class="site-chip"><input type="checkbox" value="glassdoor"><span class="dot"></span>Glassdoor</label>\n        <label class="site-chip"><input type="checkbox" value="zip_recruiter"><span class="dot"></span>ZipRecruiter</label>\n        <label class="site-chip"><input type="checkbox" value="google"><span class="dot"></span>Google</label>\n        <label class="site-chip"><input type="checkbox" value="bayt"><span class="dot"></span>Bayt</label>\n        <label class="site-chip"><input type="checkbox" value="naukri"><span class="dot"></span>Naukri</label>\n        <label class="site-chip"><input type="checkbox" value="bdjobs"><span class="dot"></span>BDJobs</label>\n      </div>\n\n      <div class="form-section-label">Search</div>\n      <div class="field">\n        <label>search_term</label>\n        <input id="p_search_term" type="text" placeholder="e.g. software engineer" />\n      </div>\n      <div class="field-row">\n        <div class="field">\n          <label>location</label>\n          <input id="p_location" type="text" placeholder="New York, NY" />\n        </div>\n        <div class="field">\n          <label>country_indeed</label>\n          <select id="p_country_indeed">\n            <option value="">Any</option>\n            <option value="USA" selected>USA</option>\n            <option value="UK">UK</option>\n            <option value="Canada">Canada</option>\n            <option value="Australia">Australia</option>\n            <option value="Germany">Germany</option>\n            <option value="France">France</option>\n            <option value="India">India</option>\n            <option value="Singapore">Singapore</option>\n            <option value="UAE">UAE</option>\n          </select>\n        </div>\n      </div>\n\n      <div class="form-section-label">Filters</div>\n      <div class="field-row">\n        <div class="field">\n          <label>job_type</label>\n          <select id="p_job_type">\n            <option value="">Any</option>\n            <option value="fulltime">Full-time</option>\n            <option value="parttime">Part-time</option>\n            <option value="contract">Contract</option>\n            <option value="internship">Internship</option>\n          </select>\n        </div>\n        <div class="field">\n          <label>is_remote</label>\n          <select id="p_is_remote">\n            <option value="">Any</option>\n            <option value="true">Remote only</option>\n            <option value="false">On-site only</option>\n          </select>\n        </div>\n      </div>\n      <div class="field-row">\n        <div class="field">\n          <label>results_wanted</label>\n          <input id="p_results_wanted" type="number" placeholder="15" min="1" max="100" value="15"/>\n        </div>\n        <div class="field">\n          <label>hours_old</label>\n          <input id="p_hours_old" type="number" placeholder="e.g. 72"/>\n        </div>\n      </div>\n      <div class="field-row">\n        <div class="field">\n          <label>distance (miles)</label>\n          <input id="p_distance" type="number" placeholder="50"/>\n        </div>\n        <div class="field">\n          <label>offset</label>\n          <input id="p_offset" type="number" placeholder="0"/>\n        </div>\n      </div>\n\n      <div class="form-section-label">Advanced</div>\n      <div class="field-row">\n        <div class="field">\n          <label>description_format</label>\n          <select id="p_description_format">\n            <option value="markdown" selected>markdown</option>\n            <option value="html">html</option>\n          </select>\n        </div>\n        <div class="field">\n          <label>easy_apply</label>\n          <select id="p_easy_apply">\n            <option value="">Any</option>\n            <option value="true">Yes</option>\n            <option value="false">No</option>\n          </select>\n        </div>\n      </div>\n      <div class="field">\n        <label>linkedin_company_ids (comma-separated)</label>\n        <input id="p_linkedin_company_ids" type="text" placeholder="1441,2382"/>\n      </div>\n      <div class="field">\n        <label>google_search_term</label>\n        <input id="p_google_search_term" type="text" placeholder="software engineer jobs near New York since yesterday"/>\n      </div>\n      <div class="field-row">\n        <div class="field">\n          <label>linkedin_fetch_description</label>\n          <select id="p_linkedin_fetch_description">\n            <option value="false" selected>false (fast)</option>\n            <option value="true">true (slow)</option>\n          </select>\n        </div>\n        <div class="field">\n          <label>enforce_annual_salary</label>\n          <select id="p_enforce_annual_salary">\n            <option value="false" selected>false</option>\n            <option value="true">true</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Body (JSON) tab -->\n    <div class="json-editor-wrap" id="req-tab-body">\n      <div class="json-toolbar">\n        <button class="json-tool-btn" onclick="fillTemplate()">Fill Template</button>\n        <button class="json-tool-btn" onclick="prettify()">Prettify</button>\n        <button class="json-tool-btn" onclick="clearBody()">Clear</button>\n      </div>\n      <textarea class="json-editor" id="jsonBody" placeholder=\'{\n  "search_term": "software engineer",\n  "location": "New York, NY",\n  "site_name": ["indeed", "linkedin"],\n  "results_wanted": 15,\n  "hours_old": 72\n}\'></textarea>\n    </div>\n  </div>\n\n  <!-- ‚îÄ‚îÄ RESPONSE PANEL ‚îÄ‚îÄ -->\n  <div class="res-panel">\n    <div class="res-header">\n      <span class="res-title">Response</span>\n      <span class="status-pill" id="statusPill">‚Äî</span>\n      <span class="timing-label" id="timingLabel"></span>\n      <span class="count-label" id="countLabel"></span>\n    </div>\n\n    <div class="res-tabs">\n      <div class="res-tab active" onclick="switchResTab(this,\'json\')">JSON</div>\n      <div class="res-tab" onclick="switchResTab(this,\'jobs\')">Jobs</div>\n    </div>\n\n    <div class="res-body-wrap" id="res-json-view">\n      <div class="res-placeholder" id="resPlaceholder">\n        <div class="icon">üöÄ</div>\n        <p>Configure your request and hit <strong style="color:#E8E8E8">Send</strong><br>to see the response here.</p>\n      </div>\n      <button class="copy-res-btn" id="copyResBtn" style="display:none" onclick="copyResponse()">Copy</button>\n      <pre class="response-json" id="responseJson"></pre>\n    </div>\n\n    <div class="res-body-wrap" id="res-jobs-view" style="display:none">\n      <div class="jobs-list" id="jobsList"></div>\n    </div>\n  </div>\n\n</div>\n\n<script>\n  let lastResponse = null;\n  let activeResTab = \'json\';\n\n  // ‚îÄ‚îÄ Site chips ‚îÄ‚îÄ\n  document.querySelectorAll(\'.site-chip\').forEach(chip => {\n    chip.addEventListener(\'click\', () => {\n      const cb = chip.querySelector(\'input\');\n      cb.checked = !cb.checked;\n      chip.classList.toggle(\'active\', cb.checked);\n    });\n  });\n\n  function onMethodChange() {\n    const method = document.getElementById(\'methodSelect\').value;\n    const paramsTab = document.querySelector(\'.tab-item[onclick*="params"]\');\n    if (method === \'POST\') {\n      // Switch to body tab\n      switchReqTab(document.querySelector(\'.tab-item[onclick*="body"]\'), \'body\');\n    }\n  }\n\n  function switchReqTab(btn, tab) {\n    document.querySelectorAll(\'.tab-item\').forEach(t => t.classList.remove(\'active\'));\n    btn.classList.add(\'active\');\n    document.getElementById(\'req-tab-params\').style.display = \'none\';\n    document.getElementById(\'req-tab-params\').classList.add(\'hidden\');\n    document.getElementById(\'req-tab-body\').classList.remove(\'visible\');\n    if (tab === \'params\') {\n      document.getElementById(\'req-tab-params\').style.display = \'flex\';\n      document.getElementById(\'req-tab-params\').classList.remove(\'hidden\');\n    } else {\n      document.getElementById(\'req-tab-body\').classList.add(\'visible\');\n    }\n  }\n\n  function switchResTab(btn, tab) {\n    document.querySelectorAll(\'.res-tab\').forEach(t => t.classList.remove(\'active\'));\n    btn.classList.add(\'active\');\n    activeResTab = tab;\n    if (tab === \'json\') {\n      document.getElementById(\'res-json-view\').style.display = \'block\';\n      document.getElementById(\'res-jobs-view\').style.display = \'none\';\n    } else {\n      document.getElementById(\'res-json-view\').style.display = \'none\';\n      document.getElementById(\'res-jobs-view\').style.display = \'block\';\n      renderJobsTab();\n    }\n  }\n\n  function buildParams() {\n    const get = id => document.getElementById(id)?.value?.trim() || \'\';\n    const sites = [...document.querySelectorAll(\'.site-chip input:checked\')].map(c => c.value);\n    const params = new URLSearchParams();\n    if (sites.length) params.set(\'site_name\', sites.join(\',\'));\n    if (get(\'p_search_term\'))             params.set(\'search_term\',   get(\'p_search_term\'));\n    if (get(\'p_location\'))                params.set(\'location\',      get(\'p_location\'));\n    if (get(\'p_country_indeed\'))          params.set(\'country_indeed\',get(\'p_country_indeed\'));\n    if (get(\'p_job_type\'))                params.set(\'job_type\',      get(\'p_job_type\'));\n    if (get(\'p_is_remote\'))               params.set(\'is_remote\',     get(\'p_is_remote\'));\n    if (get(\'p_results_wanted\'))          params.set(\'results_wanted\',get(\'p_results_wanted\'));\n    if (get(\'p_hours_old\'))               params.set(\'hours_old\',     get(\'p_hours_old\'));\n    if (get(\'p_distance\'))                params.set(\'distance\',      get(\'p_distance\'));\n    if (get(\'p_offset\'))                  params.set(\'offset\',        get(\'p_offset\'));\n    if (get(\'p_description_format\'))      params.set(\'description_format\', get(\'p_description_format\'));\n    if (get(\'p_easy_apply\'))              params.set(\'easy_apply\',    get(\'p_easy_apply\'));\n    if (get(\'p_linkedin_company_ids\'))    params.set(\'linkedin_company_ids\', get(\'p_linkedin_company_ids\'));\n    if (get(\'p_google_search_term\'))      params.set(\'google_search_term\',   get(\'p_google_search_term\'));\n    if (get(\'p_linkedin_fetch_description\') === \'true\') params.set(\'linkedin_fetch_description\', \'true\');\n    if (get(\'p_enforce_annual_salary\') === \'true\')      params.set(\'enforce_annual_salary\', \'true\');\n    return params;\n  }\n\n  async function sendRequest() {\n    const method  = document.getElementById(\'methodSelect\').value;\n    const btn     = document.getElementById(\'sendBtn\');\n    const isBody  = document.getElementById(\'req-tab-body\').classList.contains(\'visible\');\n\n    btn.disabled = true;\n    btn.classList.add(\'loading\');\n\n    const statusPill  = document.getElementById(\'statusPill\');\n    const timingLabel = document.getElementById(\'timingLabel\');\n    const countLabel  = document.getElementById(\'countLabel\');\n    statusPill.className = \'status-pill\';\n    statusPill.textContent = \'‚Ä¶\';\n    timingLabel.textContent = \'\';\n    countLabel.textContent = \'\';\n    document.getElementById(\'resPlaceholder\').style.display = \'none\';\n    document.getElementById(\'responseJson\').textContent = \'\';\n    document.getElementById(\'copyResBtn\').style.display = \'none\';\n\n    const t0 = performance.now();\n\n    try {\n      let res, url = \'/api/jobs\';\n      if (method === \'GET\' || !isBody) {\n        const params = buildParams();\n        res = await fetch(`${url}?${params}`, { method: \'GET\' });\n      } else {\n        let body = document.getElementById(\'jsonBody\').value.trim();\n        if (!body) body = \'{}\';\n        let parsed;\n        try { parsed = JSON.parse(body); } catch(e) {\n          showError(`Invalid JSON: ${e.message}`); btn.disabled = false; btn.classList.remove(\'loading\'); return;\n        }\n        res = await fetch(url, {\n          method: \'POST\',\n          headers: { \'Content-Type\': \'application/json\' },\n          body: JSON.stringify(parsed),\n        });\n      }\n\n      const ms   = Math.round(performance.now() - t0);\n      const data = await res.json();\n      lastResponse = data;\n\n      // Status pill\n      statusPill.textContent = `${res.status} ${res.statusText || (res.ok ? \'OK\' : \'Error\')}`;\n      statusPill.className   = \'status-pill \' + (res.ok ? \'ok\' : res.status < 500 ? \'warn\' : \'err\');\n      timingLabel.textContent = `${ms} ms`;\n      if (data.count != null) countLabel.textContent = `${data.count} job${data.count !== 1 ? \'s\' : \'\'}`;\n\n      // Pretty JSON\n      document.getElementById(\'responseJson\').innerHTML = syntaxHighlight(JSON.stringify(data, null, 2));\n      document.getElementById(\'copyResBtn\').style.display = \'block\';\n\n      // If jobs tab is active, render\n      if (activeResTab === \'jobs\') renderJobsTab();\n\n    } catch (err) {\n      showError(err.message);\n    } finally {\n      btn.disabled = false;\n      btn.classList.remove(\'loading\');\n    }\n  }\n\n  function showError(msg) {\n    const statusPill = document.getElementById(\'statusPill\');\n    statusPill.textContent = \'Error\';\n    statusPill.className = \'status-pill err\';\n    document.getElementById(\'responseJson\').innerHTML = `<span style="color:#FF3B30">${esc(msg)}</span>`;\n    document.getElementById(\'copyResBtn\').style.display = \'block\';\n  }\n\n  function renderJobsTab() {\n    const list = document.getElementById(\'jobsList\');\n    if (!lastResponse || !lastResponse.jobs) {\n      list.innerHTML = \'<p style="color:#666;text-align:center;padding:32px">No job data yet ‚Äî run a search first.</p>\';\n      list.classList.add(\'visible\');\n      return;\n    }\n    const jobs = lastResponse.jobs;\n    if (!jobs.length) {\n      list.innerHTML = \'<p style="color:#666;text-align:center;padding:32px">No jobs found for that query.</p>\';\n      list.classList.add(\'visible\');\n      return;\n    }\n    list.innerHTML = jobs.map(j => {\n      const loc = j.location ? [j.location.city, j.location.state, j.location.country].filter(Boolean).join(\', \') : \'\';\n      const tags = [j.site, j.job_type, j.is_remote ? \'remote\' : null, loc].filter(Boolean);\n      return `<div class="mini-card">\n        <div class="mc-title">${esc(j.title || \'Untitled\')}</div>\n        <div class="mc-sub">${esc(j.company || \'\')}${j.date_posted ? \' ¬∑ \' + j.date_posted : \'\'}</div>\n        <div class="mc-meta">\n          ${tags.map(t => `<span class="mc-tag${t===\'remote\'?\' remote\':\'\'}">${esc(t)}</span>`).join(\'\')}\n        </div>\n        ${j.job_url ? `<a class="mc-link" href="${esc(j.job_url)}" target="_blank" rel="noopener">Apply ‚Üí</a>` : \'\'}\n      </div>`;\n    }).join(\'\');\n    list.classList.add(\'visible\');\n  }\n\n  function syntaxHighlight(json) {\n    return json\n      .replace(/&/g,\'&amp;\').replace(/</g,\'&lt;\').replace(/>/g,\'&gt;\')\n      .replace(/("(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\"])*"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, match => {\n        let cls = \'j-num\';\n        if (/^"/.test(match)) {\n          cls = /:$/.test(match) ? \'j-key\' : \'j-str\';\n        } else if (/true|false/.test(match)) {\n          cls = \'j-bool\';\n        } else if (/null/.test(match)) {\n          cls = \'j-null\';\n        }\n        return `<span class="${cls}">${match}</span>`;\n      });\n  }\n\n  function esc(s) {\n    return String(s).replace(/&/g,\'&amp;\').replace(/</g,\'&lt;\').replace(/>/g,\'&gt;\').replace(/"/g,\'&quot;\');\n  }\n\n  function copyResponse() {\n    const text = document.getElementById(\'responseJson\').innerText;\n    navigator.clipboard.writeText(text).then(() => {\n      const btn = document.getElementById(\'copyResBtn\');\n      btn.textContent = \'Copied!\';\n      setTimeout(() => btn.textContent = \'Copy\', 1500);\n    });\n  }\n\n  function fillTemplate() {\n    document.getElementById(\'jsonBody\').value = JSON.stringify({\n      site_name: ["indeed", "linkedin"],\n      search_term: "software engineer",\n      location: "New York, NY",\n      country_indeed: "USA",\n      results_wanted: 15,\n      hours_old: 72,\n      job_type: "fulltime",\n      is_remote: false,\n      description_format: "markdown"\n    }, null, 2);\n  }\n\n  function prettify() {\n    const ta = document.getElementById(\'jsonBody\');\n    try {\n      ta.value = JSON.stringify(JSON.parse(ta.value), null, 2);\n    } catch(e) {\n      alert(\'Invalid JSON: \' + e.message);\n    }\n  }\n\n  function clearBody() {\n    document.getElementById(\'jsonBody\').value = \'\';\n  }\n\n  // Send on Ctrl+Enter\n  document.addEventListener(\'keydown\', e => {\n    if ((e.ctrlKey || e.metaKey) && e.key === \'Enter\') sendRequest();\n  });\n</script>\n</body>\n</html>\n'

